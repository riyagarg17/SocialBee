(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(19).concat([function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAalAAAGpQEXmZfdAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAMxQTFRF/////wAAv0BAzGYz41VVzGZN1VVA115R01lO2FhO2V5M1V5N1lpK2lpL21dJ1lpM1VlH2VpM2FtJ2VlI1VxL1lpK11lJ1lpI11lJ2FpJ11pL11pJ11lL11tJ2FpL11tK11pK11tJ11pK11pK11pJ11pK11tK2FpL11pJ11pK11pK11tK11pK11lK11lK1ltK11pK1lpK11pK11pK11pK11pK11pK11pJ11pK11pK11pK11pK11pK11pK11pK11pK11pK11pK11pK11pKjuACuQAAAEN0Uk5TAAEEBQkKDBMXGhseHyIjJSs2Ozw9Pj9KTVtmen6BgoeRkqGlp620tbi6x8jM0NPW2dzd4OPp6uzt7vD09fb5+vv8/bIexG8AAAC1SURBVBgZjcFpOwJhGIbhaxTayJK0qSRLC0pkhKbX/f//k5lMc7Q8H5wnfzwSHolSdxyM2hlCuetRMO6WiHgNp4h/BJUvRVzDA2qKPabLTrEaZGdauXnSyixLXaY6PZl6+DL5TGSaMJBpQFOmK/I/Mrgc3MlwCxy/a8dbgdBFoC3zc5aqThsWVWKVb635vCRx9qHE9JQ1J6+KvRTZkH/W0jDDlsO+Qg8H7Ni/lzopDHudFv/wC8t9XNMIMEpyAAAAAElFTkSuQmCC"},,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjBh0KODKj6NHDAAABa0lEQVQ4y43Tv09TYRTG8c/tbYqGGiVBBkQi0RgdkJAoOEgigV1CXFiMk4kumLiZ7i6O8AcYIwMTamJCorAgUOyiA0ONUmQQ2HTyBxGHltDe9tL7TO/5nuec875vckKHyjrjlz21OuasPX8i1JgVWwp25E1UWOCugm0FW5bdOjQHpi0ZrETXvPNMWqtXXrpSodetmBKUg5w5mappaS88MePpgQG0eO0xnLPhROSCrb7JS0XoSZu6Q48sWYyk/vphVilCfztugDUX1SujkS5bZbdudLxCuykp+4kL/glSvutMXNBpO9Qv9Clhwbh9Rr1NPGHBCIEPhhPZR6yVD4OKTjW1t/ls4CB46L3skfasZZPVIGdVe6y9Q14uCh8oOt/Q3mPd/UaJMV/11dGrNt2OG31TyVANGVVy46jH9fpS1e+OokvNvq/Huntg0kdd0XS6rmDDsDdO63LBkJ/N+peVNe95zE7EKFOzz1X6D4TOS8bQ+iBeAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTA2LTI5VDA4OjU2OjUwKzAyOjAwhCpBggAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0wNi0yOVQwODo1Njo1MCswMjowMPV3+T4AAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC"},,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,function(e,t,a){e.exports=a.p+"static/media/iphone1.57cafd8d.png"},function(e,t,a){e.exports=a.p+"static/media/iphone2.f10455bf.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfjBh0KOzvxGTqkAAABpUlEQVQ4y5XTv0vUcRwG8Nf38/3mDzzK0zNbDLFwaNLTaijCAsUgggaLWvoD/AdaW5vDimiwqdo6iFpqaKilggZLECwUuii7uEg6w+sarky97K5n+vD+9byfh/cnshkt+vTpQMG8eaWN6WjdOxgxoceiNwro1KvHgjse+1HbMGBSQc6cklUVBLEW/U5Ku+zlRqZzrhrVrWkDJ5Fmu4y55mw1EIMzsm56oahco6lsWd6iUWkz1dCgKVlN/oUmQ64YgMQNY1rUQ6tx1yXBsGXPrdRtKHmmJBub9NDsX3avxaqKUR7o3uTMVoh0ux+0Kao01FBRlAqiBuf/Qviv8ojgs06hweE7fYr1ajPXkEvNjisEOWM6GuAIOo24F8z4Jqu57vYpRy2ZDSru2l/nNCJtDjpsSiVBWn5NQyxjxZc/HwaxdkNOmLZAwD5vfQcp/U4bsG2tOLHDXuNOueVpNZAYNK0sJeWA814p2q6MWCJtyCF5F73/PaFfjN2OOCbvtT0u+KAo0q5L2ROXzK+Xc1tGYskjOe+UkdIlgyUffa11YMKw1sYP5CfNpGfCkG7ufwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0wNi0yOVQwODo1OTo1OSswMjowMOC5X9wAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMDYtMjlUMDg6NTk6NTkrMDI6MDCR5OdgAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg=="},function(e,t,a){e.exports=a(55)},,,,,,function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(32),l=a.n(s),r=a(10),i=a.n(r),c=a(9),m=a(14),u=a(3),d=a(4),h=a(6),p=a(5),g=a(1),f=a(7),b=a(2),E=a(15),y=function(e){if("undefined"!==typeof window)return localStorage.removeItem("token"),e(),fetch("".concat("http://localhost:5000","/logout"),{method:"GET"}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},v=function(){return"undefined"!=typeof window&&(!!localStorage.getItem("token")&&JSON.parse(localStorage.getItem("token")))},A=function(e,t){return fetch("".concat("http://localhost:5000","/user/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},N=function(e,t){return fetch("".concat("http://localhost:5000","/users/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},w=function(e,t,a,n){return fetch("".concat("http://localhost:5000","/user/").concat(n),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({userId:e,followId:a})}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},k=(a(44),function(e){return o.a.createElement("div",{className:"searchResultDiv",style:{display:e.show?"":"none",paddingBottom:"0"},onMouseLeave:function(){document.getElementById("searchBox").style.display="none"},id:"searchBox"},o.a.createElement("ul",{style:{padding:"0",marginBottom:"0",marginTop:"4px"}},e.users.map(function(e,t){return o.a.createElement(b.b,{to:"/user/".concat(e._id),style:{textDecoration:"none"},key:t},o.a.createElement("li",{className:"eachUser mb-2"},o.a.createElement("div",{style:{display:"flex"}},e.image?o.a.createElement("img",{alt:"profile",src:(a=e._id,"".concat("http://localhost:5000","/image/").concat(a)),style:{borderRadius:"50%",width:"40px",height:"40px"}}):o.a.createElement("div",{className:"noUserImg",style:{width:"40px",height:"40px"}}),o.a.createElement("div",{className:"ml-3"},o.a.createElement("p",{className:"searchResultUsername"},e.userName),o.a.createElement("p",{className:"searchResultFullname"},e.fullName)))));var a})))}),j=function(e,t){if(e.location.pathname===t)return{fontWeight:"bold"}},O=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={searchValue:"",searchResults:[],error:"",display:!1},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(){var e=Object(m.a)(i.a.mark(function e(t){var a,n,o,s,l=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target,n=a.value,o=a.name,e.next=5,this.setState(Object(c.a)({},o,n));case 5:s=v().token,this.state.searchValue.length>0&&N(n,s).then(function(e){e.error?l.setState({error:e.error}):l.setState({searchResults:e.users,display:!0})}),this.state.searchValue.length<1&&this.setState({display:!1});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,v().user&&o.a.createElement("nav",{className:"navbar navbar-expand-lg mb-5",style:{display:"/"!==this.props.currRoute&&"/login"!==this.props.currRoute?"":"none"}},o.a.createElement("a",{className:"navbar-brand appName ml-5",href:"/dashboard",style:{fontSize:"42px",textDecoration:"none"}},"SocialBee"),o.a.createElement("div",{style:{position:"relative"}},o.a.createElement("input",{className:" mx-auto",placeholder:"Search..",name:"searchValue",id:"Search",value:this.state.searchValue,onChange:this.handleChange,autoComplete:"off"}),o.a.createElement(k,{users:this.state.searchResults,show:this.state.display})),o.a.createElement("ul",{className:"mx-auto",style:{display:"flex",listStyle:"none"}},o.a.createElement("li",{className:"mr-5"},o.a.createElement(b.b,{className:"appName",to:"/user/".concat(v().user._id),id:"signedInUser",style:{fontSize:"26px",letterSpacing:"3px",fontStyle:"oblique"}},"Signed in as ",v().user.fullName)),o.a.createElement("li",{className:" mr-3 "},o.a.createElement(b.b,{className:"",to:"/"},o.a.createElement("i",{className:"far fa-heart fa-2x"}))),o.a.createElement("li",{className:"  mr-3"},o.a.createElement(b.b,{className:"",to:"/user/".concat(v().user._id)},o.a.createElement("i",{className:"far fa-user fa-2x"}))),o.a.createElement("li",{className:"dropdown"},o.a.createElement(b.b,{className:" dropdown-toggle","data-toggle":"dropdown",to:"#"},o.a.createElement("i",{className:"fas fa-cog fa-2x",style:{color:"black"}})," "),o.a.createElement("div",{className:"dropdown-menu "},o.a.createElement("span",{className:"dropdown-item",style:{cursor:"pointer"},onClick:function(){return y(function(){return e.props.history.push("/login")})}},o.a.createElement("i",{className:"fas fa-sign-out-alt"}),"    Logout"),o.a.createElement("hr",null),o.a.createElement(b.b,{className:"dropdown-item",to:"/settings/".concat(v().user._id),style:j(this.props.history,"/settings")},o.a.createElement("i",{className:"fas fa-user-circle"})," Account Settings "))))))}}]),t}(n.Component),C=Object(E.g)(O),S=(a(27),Object(E.g)(function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(C,{currRoute:e.location.pathname}),o.a.createElement("main",null,o.a.createElement(b.b,{to:"/post/add",className:"float"},o.a.createElement("i",{className:"fa fa-plus fa-lg my-float"})),e.children," "))})),x=a(35),B=a.n(x),P=a(36),I=a.n(P),M=(a(28),a(49),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={fadeImages:["https://www.instagram.com/static/images/homepage/screenshot5.jpg/0a2d3016f375.jpg","https://www.instagram.com/static/images/homepage/screenshot4.jpg/842fe5699220.jpg","https://www.instagram.com/static/images/homepage/screenshot3.jpg/f0c687aa6ec2.jpg","https://www.instagram.com/static/images/homepage/screenshot2.jpg/6f03eb85463c.jpg","https://www.instagram.com/static/images/homepage/screenshot1.jpg/d6bf0c928b5a.jpg"]},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=0;this.interval=setInterval(function(){document.getElementById("slideImg").src=this.state.fadeImages[e],(e+=1)===this.state.fadeImages.length&&(e=0)}.bind(this),4e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return o.a.createElement("div",{className:"slideShowDiv"},o.a.createElement("img",{src:this.state.fadeImages[0],alt:"slideshow",id:"slideImg"}))}}]),t}(n.Component)),D=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={email:"",password:"",userName:"",fullName:"",error:"",redirect:!1},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState({error:""}),this.setState(Object(c.a)({},n,a))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state;(function(e){return fetch("".concat("http://localhost:5000","/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})})({email:a.email,password:a.password,userName:a.userName,fullName:a.fullName}).then(function(e){e.error?t.setState({error:e.error}):t.setState({email:"",password:"",userName:"",fullName:"",error:"",redirect:!0})})}},{key:"render",value:function(){return this.state.redirect?o.a.createElement(E.a,{to:"/login"}):o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{style:{display:this.state.error?" ":"none"},className:"error text-danger"}," ",this.state.error," "),o.a.createElement("form",{className:"signupForm",onSubmit:this.handleSubmit},o.a.createElement("input",{type:"email",name:"email",className:"form-control",placeholder:"Email",onChange:this.handleChange,value:this.state.email}),o.a.createElement("input",{type:"text",name:"fullName",className:"form-control",placeholder:"Full Name",onChange:this.handleChange,value:this.state.fullName}),o.a.createElement("input",{type:"text",name:"userName",className:"form-control",placeholder:"User Name",onChange:this.handleChange,value:this.state.userName}),o.a.createElement("input",{type:"password",name:"password",className:"form-control",placeholder:"Password..",onChange:this.handleChange,value:this.state.password}),o.a.createElement("button",{className:"btn btn-primary btn-block mb-2",id:"signup-btn"},"Sign Up")))}}]),t}(n.Component),U=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"main"},o.a.createElement("div",{className:"imgContainer"},o.a.createElement("img",{src:B.a,alt:"iphone",className:"homeImg1 "}),o.a.createElement("img",{src:I.a,alt:"iphone",className:"homeImg2"}),o.a.createElement(M,null)),o.a.createElement("div",{className:" signupDiv mt-3 mb-3"},o.a.createElement("h2",{className:"appName"}," SocialBee"),o.a.createElement("p",{className:"signText"},"Sign up to see photos and videos from your friends."),o.a.createElement("button",{className:"btn btn-danger mt-3 mb-2",id:"googleLogin"},o.a.createElement("i",{className:"fab fa-google-plus-g"})," Login with google"),o.a.createElement("div",{className:"orBox mb-3"},o.a.createElement("div",{className:"orLine"}," "),o.a.createElement("div",{className:"orText"}," OR"),o.a.createElement("div",{className:"orLine"}," ")),o.a.createElement(D,null),o.a.createElement("div",{className:"LoginDiv"},o.a.createElement("p",{className:"loginText"}," Already have an account?",o.a.createElement(b.b,{to:"/login"}," Log in ")))))}}]),t}(n.Component),F=(a(29),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={email:"",password:"",error:"",redirect:!1,loading:!1},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a.authenticate=a.authenticate.bind(Object(g.a)(a)),a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"authenticate",value:function(e,t){"undefined"!==typeof window&&(localStorage.setItem("token",JSON.stringify(e)),t())}},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(c.a)({},n,a))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({loading:!0});var a=this.state;(function(e){return fetch("".concat("http://localhost:5000","/login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})})({email:a.email,password:a.password}).then(function(e){e.error?t.setState({error:e.error,loading:!1}):t.authenticate(e,function(){t.setState({redirect:!0})})})}},{key:"render",value:function(){return this.state.redirect?o.a.createElement(E.a,{to:"/dashboard"}):o.a.createElement("div",null,o.a.createElement("span",{style:{display:this.state.error?" ":"none"},className:"error text-danger"}," ",this.state.error," "),o.a.createElement("form",{className:"loginForm",onSubmit:this.handleSubmit},o.a.createElement("input",{type:"email",name:"email",className:"form-control",placeholder:"Email",onChange:this.handleChange,value:this.state.email}),o.a.createElement("input",{type:"password",name:"password",className:"form-control",placeholder:"Password..",onChange:this.handleChange,value:this.state.password}),o.a.createElement("button",{className:"btn btn-primary btn-block mb-2",id:"login-btn"},"Login")))}}]),t}(n.Component)),T=function(){return o.a.createElement("div",{className:" loginDiv mt-5 mb-3"},o.a.createElement("h2",{className:"appName"}," SocialBee"),o.a.createElement(F,null),o.a.createElement("div",{className:"orBox mb-3"},o.a.createElement("div",{className:"orLine"}," "),o.a.createElement("div",{className:"orText"}," OR"),o.a.createElement("div",{className:"orLine"}," ")),o.a.createElement("button",{className:"btn btn-danger btn-block mt-3 mb-3"},o.a.createElement("i",{className:"fab fa-google-plus-g"})," Login with google"),o.a.createElement(b.b,{to:"/",className:"forgotPwd mb-2 btn "}," Forgot Password? "),o.a.createElement("div",{className:"SignupDiv"},o.a.createElement("p",{className:"signupText"},"Don't have an account?",o.a.createElement(b.b,{to:"/"}," Signup "))))},L=a(16),R=(a(50),a(51),function(e){return e.show?o.a.createElement("div",{className:"Backdrop",onClick:e.clicked}," "):null}),z=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={user:"",error:"",post:{},postImage:"",commentBody:"",comments:[]},a.getPostUserImage=a.getPostUserImage.bind(Object(g.a)(a)),a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a.handleDelete=a.handleDelete.bind(Object(g.a)(a)),a.hasAutherization=a.hasAutherization.bind(Object(g.a)(a)),a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(c.a)({},a,n))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=v().user,n=this.props.post,o=v().token,s=this.state.commentBody;(function(e,t,a,n){return fetch("".concat("http://localhost:5000","/comment"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({userId:e,postId:a,comment:n})}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})})(a._id,o,n._id,s).then(function(e){e.error?t.setState({error:e.error}):(t.props.updateComment(n._id,e.comments),t.setState({commentBody:""}))})}},{key:"handleDelete",value:function(e){var t=this,a=v().user,n=this.props.post,o=v().token;(function(e,t,a,n){return fetch("".concat("http://localhost:5000","/uncomment"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({userId:e,postId:a,comment:n})}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})})(a._id,o,n._id,e).then(function(e){e.error?t.setState({error:e.error}):t.props.updateComment(n._id,e.comments)})}},{key:"hasAutherization",value:function(e){return v().user&&v().user._id===e}},{key:"getPostUserImage",value:function(e){return"".concat("http://localhost:5000","/image/").concat(e)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.post,a=this.props.comments,n="".concat("http://localhost:5000","/postImage/").concat(t._id);return o.a.createElement(o.a.Fragment,null,o.a.createElement(R,{show:this.props.show,clicked:this.props.modalClosed}),o.a.createElement("div",{className:"postModal",style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},o.a.createElement("div",{className:"SinglePostContainer"},o.a.createElement("div",{className:"sideContainer mr-2"},o.a.createElement("img",{src:n,alt:"postImage",className:"singlePostImage"})),o.a.createElement("article",{style:{width:"60%",height:"300px"}},o.a.createElement("div",{className:"singlePostHeader mt-2"},t.postedBy.image?o.a.createElement("img",{alt:"profile",src:this.getPostUserImage(t.postedBy._id),style:{borderRadius:"50%",width:"40px",height:"40px"}}):o.a.createElement("div",{className:"noUserImg",style:{width:"40px",height:"40px"}}),o.a.createElement("div",{className:"ml-3 "},o.a.createElement(b.b,{to:"/user/".concat(t.postedBy._id),style:{textDecoration:"none"}},o.a.createElement("p",{className:"searchResultUsername "},t.postedBy.userName),o.a.createElement("p",{className:"searchResultFullname"},t.postedBy.fullName)))),o.a.createElement("div",{className:"commentSection"},o.a.createElement("ul",{style:{padding:"0",marginBottom:"0",marginTop:"4px"}},a.map(function(t,a){return o.a.createElement("li",{className:"eachComment mb-2"},o.a.createElement("div",{style:{display:"flex"}},t.commentUser.image?o.a.createElement("img",{alt:"profile",src:e.getPostUserImage(t.commentUser._id),style:{borderRadius:"50%",width:"40px",height:"40px"}}):o.a.createElement("div",{className:"noUserImg",style:{width:"40px",height:"40px"}}),o.a.createElement("div",{className:"ml-3",style:{display:"flex"}},o.a.createElement(b.b,{to:"/user/".concat(t.commentUser._id),style:{textDecoration:"none"},key:a},o.a.createElement("p",{className:"searchResultUsername commentPostedBy"},t.commentUser.userName)),o.a.createElement("p",{className:"searchResultFullname commentBody"},t.commentBody)),e.hasAutherization(t.commentUser._id)&&o.a.createElement("div",{className:"deleteComment"},o.a.createElement("i",{className:"fas fa-times",onClick:function(){return e.handleDelete(t)}}))))}))),o.a.createElement("div",{className:"addCommentSection"},o.a.createElement("input",{type:"text",name:"commentBody",placeholder:"Add a comment...",className:"addCommentInput",onChange:this.handleChange,value:this.state.commentBody}),o.a.createElement("button",{className:"btn submitComment",onClick:this.handleSubmit}," Post "))))))}}]),t}(n.Component),K=a(23),_=a.n(K),V=a(37),J=a.n(V),G=a(19),Q=a.n(G),W=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={user:"",error:"",posts:[],redirectToProfile:!1,singlePost:!1,currentSinglePost:"",loading:!0,message:""},a.renderPosts=a.renderPosts.bind(Object(g.a)(a)),a.getPostImage=a.getPostImage.bind(Object(g.a)(a)),a.getPostUserImage=a.getPostUserImage.bind(Object(g.a)(a)),a.handleLikeUnlike=a.handleLikeUnlike.bind(Object(g.a)(a)),a.checkLiked=a.checkLiked.bind(Object(g.a)(a)),a.openSinglePostModal=a.openSinglePostModal.bind(Object(g.a)(a)),a.closeModal=a.closeModal.bind(Object(g.a)(a)),a.returnModal=a.returnModal.bind(Object(g.a)(a)),a.updateComment=a.updateComment.bind(Object(g.a)(a)),a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"renderPosts",value:function(e){var t=this;return this.state.loading?o.a.createElement("div",{className:"loader"},"Loading..."):this.state.message?o.a.createElement("p",{className:"lead text-center"}," ",this.state.message," "):o.a.createElement("div",{className:"row container mx-auto"},e.map(function(e,a){return o.a.createElement("div",{className:"card col-md-auto ml-5 mr-4 mb-4 offset-md-4",key:a},t.returnModal(e),o.a.createElement("div",{className:"postHeader"},e.postedBy.image?o.a.createElement("img",{alt:"profile",src:t.getPostUserImage(e.postedBy._id),style:{borderRadius:"50%",width:"40px",height:"40px"}}):o.a.createElement("div",{className:"noUserImg",style:{width:"40px",height:"40px"}}),o.a.createElement("div",{className:"ml-3 mt-2"},o.a.createElement(b.b,{to:"/user/".concat(e.postedBy._id),style:{textDecoration:"none"}},o.a.createElement("p",{className:"searchResultUsername "},e.postedBy.userName)))),o.a.createElement("div",{className:"mt-2"},o.a.createElement("img",{src:t.getPostImage(e._id),alt:"postImage",className:"postImage"})),o.a.createElement("div",{className:"postFooter mt-2"},o.a.createElement("div",{style:{display:"flex"}},t.checkLiked(e)?o.a.createElement("img",{src:Q.a,className:"postFooterIcons mr-2",id:"likeButton",onClick:function(){return t.handleLikeUnlike(e._id)},alt:""}):o.a.createElement("img",{src:_.a,className:"postFooterIcons mr-2",id:"likeButton",onClick:function(){return t.handleLikeUnlike(e._id)},alt:""}),o.a.createElement("img",{src:J.a,className:"postFooterIcons ml-2",alt:"",onClick:function(){return t.openSinglePostModal(e._id)}})),o.a.createElement("div",{className:"searchResultUsername ml-1 mt-2"},e.likedBy?o.a.createElement(o.a.Fragment,null," ",e.likedBy.length," Likes"):o.a.createElement(o.a.Fragment,null," 0 Likes ")),o.a.createElement("div",{className:"captionSection",style:{display:"flex"}},o.a.createElement(b.b,{to:"/user/".concat(e.postedBy._id),style:{textDecoration:"none"}},o.a.createElement("p",{className:"searchResultUsername postedBy ml-1 mt-2"},e.postedBy.userName)),o.a.createElement("p",{className:"postCaption ml-1 mt-2"},e.caption)),0!==e.comments.length?o.a.createElement("div",null,1===e.comments.length?o.a.createElement("p",{className:"postCaption",onClick:function(){return t.openSinglePostModal(e._id)},style:{cursor:"pointer"}}," View Comment "):o.a.createElement("p",{className:"postCaption",onClick:function(){return t.openSinglePostModal(e._id)},style:{cursor:"pointer"}}," View all ",e.comments.length," Comments ")):o.a.createElement("p",{className:"postCaption"}," This post has no comments yet ")))}))}},{key:"checkLiked",value:function(e){var t=v(),a=!1;return e.likedBy&&e.likedBy.find(function(e){a=e===t.user._id}),a}},{key:"handleLikeUnlike",value:function(e){var t=this,a=v().token,n=v().user._id,o="like";document.getElementById("likeButton").src===Q.a?(o="unlike",document.getElementById("likeButton").src=_.a):document.getElementById("likeButton").src=Q.a,function(e,t,a,n){return console.log("like unlike called",n),fetch("".concat("http://localhost:5000","/").concat(n),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({userId:e,postId:a})}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})}(n,a,e,o).then(function(a){a.error?t.setState({error:a.error}):t.setState(function(t){return{posts:t.posts.map(function(t){return t._id===e?Object.assign(t,{likedBy:a.post.likedby}):t})}})})}},{key:"openSinglePostModal",value:function(){var e=Object(m.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({singlePost:!0,currentSinglePost:t});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"returnModal",value:function(e){if(!0===this.state.singlePost&&this.state.currentSinglePost===e._id)return o.a.createElement(z,{show:this.state.singlePost,modalClosed:this.closeModal,post:e,comments:e.comments,updateComment:this.updateComment})}},{key:"closeModal",value:function(){this.setState({singlePost:!1})}},{key:"updateComment",value:function(e,t){var a=this;this.state.posts.find(function(n){n._id===e&&a.setState({posts:a.state.posts.map(function(a){return a._id===e?Object(L.a)({},a,{comments:t}):a})})})}},{key:"getPostImage",value:function(e){return"".concat("http://localhost:5000","/postImage/").concat(e)}},{key:"getPostUserImage",value:function(e){return"".concat("http://localhost:5000","/image/").concat(e)}},{key:"componentDidMount",value:function(){var e=this,t=v().user,a=v().token;(function(e,t){return fetch("".concat("http://localhost:5000","/getPosts/").concat(e),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})})(t._id,a).then(function(t){console.log(t),t.error?e.setState({error:t.error}):t.message?e.setState({message:t.message,loading:!1}):e.setState({posts:t,loading:!1})})}},{key:"render",value:function(){var e=this.state.posts;return o.a.createElement(o.a.Fragment,null,this.renderPosts(e))}}]),t}(n.Component),Z=(a(30),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).onButtonClick=function(){"Follow"===document.getElementById("followButton").innerHTML?a.props.onButtonClick(w,"follow"):a.props.onButtonClick(w,"unfollow")},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("button",{className:"ml-3 followButton",onClick:this.onButtonClick,id:"followButton"},this.props.followStatus?"Unfollow":"Follow")}}]),t}(n.Component)),X=(a(52),function(e){return o.a.createElement("div",{className:"mainDiv"},o.a.createElement("h1",{style:{fontSize:"16px",textAlign:"center",fontWeight:"600"}}," Followers"),o.a.createElement("hr",null),o.a.createElement("ul",{style:{padding:"0",marginBottom:"0",marginTop:"4px",listStyle:"none"}},e.followers.map(function(e,t){return o.a.createElement(b.b,{to:"/user/".concat(e._id),style:{textDecoration:"none"},key:t},o.a.createElement("li",{className:" mb-2"},o.a.createElement("div",{style:{display:"flex"}},e.image?o.a.createElement("img",{alt:"profile",src:(a=e._id,"".concat("http://localhost:5000","/image/").concat(a)),style:{borderRadius:"50%",width:"50px",height:"50px"},id:"userImage"}):o.a.createElement("div",{className:"noUserImg"}),o.a.createElement("div",{className:"ml-3"},o.a.createElement("p",{className:"searchResultUsername",style:{fontSize:"16px"}},e.userName),o.a.createElement("p",{className:"searchResultFullname",style:{fontSize:"16px"}},e.userName)))));var a})))}),H=function(e){return o.a.createElement("div",{className:"mainDiv"},o.a.createElement("h1",{style:{fontSize:"16px",textAlign:"center",fontWeight:"600"}}," Following"),o.a.createElement("hr",null),o.a.createElement("ul",{style:{padding:"0",marginBottom:"0",marginTop:"4px",listStyle:"none"}},e.following.map(function(e,t){return o.a.createElement(b.b,{to:"/user/".concat(e._id),style:{textDecoration:"none"},key:t},o.a.createElement("li",{className:" mb-2"},o.a.createElement("div",{style:{display:"flex"}},e.image?o.a.createElement("img",{alt:"profile",src:(a=e._id,"".concat("http://localhost:5000","/image/").concat(a)),style:{borderRadius:"50%",width:"50px",height:"50px"},id:"userImage"}):o.a.createElement("div",{className:"noUserImg"}),o.a.createElement("div",{className:"ml-3"},o.a.createElement("p",{className:"searchResultUsername",style:{fontSize:"16px"}},e.userName),o.a.createElement("p",{className:"searchResultFullname",style:{fontSize:"16px"}},e.fullName)))));var a})))},Y=(a(31),function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(R,{show:this.props.show,clicked:this.props.modalClosed}),o.a.createElement("div",{className:"Modal",style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),t}(n.Component)),q=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={user:"",error:"",caption:"",photo:"",file:null,editPost:!1,photoUrl:""},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a.uploadPhotoDialog=a.uploadPhotoDialog.bind(Object(g.a)(a)),a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"uploadPhotoDialog",value:function(){document.getElementById("photo").click()}},{key:"handleChange",value:function(){var e=Object(m.a)(i.a.mark(function e(t){var a,n,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target,n=a.name,o="photo"===n?a.files[0]:a.value,"photo"!==n){e.next=6;break}return e.next=6,this.setState({photoUrl:URL.createObjectURL(a.files[0])});case 6:this.postData.set(n,o),this.setState(Object(c.a)({},n,o));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.props.postId,n=v().token;(function(e,t,a){return fetch("".concat("http://localhost:5000","/post/").concat(e),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:a}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})})(a,n,this.postData).then(function(e){e.error?t.setState({error:e.error}):(t.props.updateCaption(a,t.state.caption),t.props.modalClosed())})}},{key:"componentDidMount",value:function(){console.log(this.props),this.postData=new FormData;var e="".concat("http://localhost:5000","/postImage/").concat(this.props.postId);this.setState({caption:this.props.caption,photoUrl:e})}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(R,{show:this.props.show,clicked:this.props.modalClosed}),o.a.createElement("div",{className:"Modal",style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},o.a.createElement("div",{className:"addPostDiv"},o.a.createElement("h4",{className:"newPostText mb-3"}," Edit Post"),o.a.createElement("hr",{style:{width:"500px",margin:"0 auto"}}),o.a.createElement("form",{encType:"multipart/form-data",onSubmit:this.handleSubmit},o.a.createElement("div",{className:"captionDiv"},o.a.createElement("input",{type:"text",name:"caption",className:"captionInput",onChange:this.handleChange,value:this.state.caption,autoComplete:"off"})),o.a.createElement("div",{className:"postImageDiv mb-3"},o.a.createElement("button",{className:"chip mt-4",type:"button",onClick:this.uploadPhotoDialog},o.a.createElement("div",{className:"uploadImageIcon"}),"Change Image",o.a.createElement("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:this.handleChange,id:"photo",name:"photo"})),o.a.createElement("div",{className:"uploadedImageDiv mt-4"},o.a.createElement("img",{className:"uploadedImage",src:this.state.photoUrl,alt:""}))),o.a.createElement("button",{type:"submit",className:"btn submitPostButton mb-5",id:"EditPostButton"}," Confirm Changes ")))))}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).closeModalFollower=function(){a.setState({showModalfollowers:!1})},a.closeModalFollowing=function(){a.setState({showModalfollowing:!1})},a.state={user:"",redirectToLogin:!1,following:!1,numFollowers:null,numFollowing:null,showModalfollowing:!1,showModalfollowers:!1,posts:[],loading:!0,postModal:!1,message:"",editPostModal:!1},a.hasAutherization=a.hasAutherization.bind(Object(g.a)(a)),a.init=a.init.bind(Object(g.a)(a)),a.checkFollow=a.checkFollow.bind(Object(g.a)(a)),a.clickFollowButton=a.clickFollowButton.bind(Object(g.a)(a)),a.showFollowersList=a.showFollowersList.bind(Object(g.a)(a)),a.showFollowingList=a.showFollowingList.bind(Object(g.a)(a)),a.renderModalFollowers=a.renderModalFollowers.bind(Object(g.a)(a)),a.renderModalFollowing=a.renderModalFollowing.bind(Object(g.a)(a)),a.displayPostsByUser=a.displayPostsByUser.bind(Object(g.a)(a)),a.getPostImage=a.getPostImage.bind(Object(g.a)(a)),a.handlePostDelete=a.handlePostDelete.bind(Object(g.a)(a)),a.handlePostEdit=a.handlePostEdit.bind(Object(g.a)(a)),a.closeModal=a.closeModal.bind(Object(g.a)(a)),a.returnModal=a.returnModal.bind(Object(g.a)(a)),a.updateCaption=a.updateCaption.bind(Object(g.a)(a)),a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"hasAutherization",value:function(){return v().user&&v().user._id===this.state.user._id}},{key:"showFollowersList",value:function(){var e=Object(m.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({showModalfollowers:!0});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"showFollowingList",value:function(){this.setState({showModalfollowing:!0})}},{key:"checkFollow",value:function(e){var t=v(),a=!1;return 0!==e.followers.length&&e.followers.find(function(e){e._id===t.user._id&&(a=!0)}),a}},{key:"handlePostEdit",value:function(){var e=Object(m.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({editPostModal:!0,currentSinglePost:t});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"closeModal",value:function(){this.setState({editPostModal:!1})}},{key:"returnModal",value:function(e){if(!0===this.state.editPostModal&&this.state.currentSinglePost===e._id)return o.a.createElement(o.a.Fragment,null,o.a.createElement(q,{show:this.state.editPostModal,modalClosed:this.closeModal,postId:e._id,caption:e.caption,updateCaption:this.updateCaption}))}},{key:"handlePostDelete",value:function(e){var t=this;(function(e,t){return fetch("".concat("http://localhost:5000","/post/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})})(e,v().token).then(function(e){console.log(e),t.setState({message:e.message})})}},{key:"updateCaption",value:function(e,t){this.setState({posts:this.state.posts.map(function(a){return a._id===e?Object(L.a)({},a,{caption:t}):a})})}},{key:"clickFollowButton",value:function(e,t){var a=this,n=v().token;e(v().user._id,n,this.state.user._id,t).then(function(e){e.error?a.setState({error:e.error}):a.setState({user:e.user,following:!a.state.following})})}},{key:"getPostImage",value:function(e){return"".concat("http://localhost:5000","/postImage/").concat(e)}},{key:"init",value:function(e){var t=this,a=v().token;A(e,a).then(function(e){if(e.error)t.setState({redirectToLogin:!0});else{var a=t.checkFollow(e);t.setState({user:e,following:a});var n=t.state.user.followers.length,o=t.state.user.following.length;if(t.setState({numFollowers:n,numFollowing:o}),t.state.user.image){var s="".concat("http://localhost:5000","/image/").concat(t.state.user._id);document.getElementById("userImage").style.backgroundImage="url('".concat(s,"')")}}}),function(e,t){return fetch("".concat("http://localhost:5000","/postsby/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})}(e,a).then(function(e){e.error?t.setState({error:e.error}):t.setState({posts:e,loading:!1})})}},{key:"displayPostsByUser",value:function(){var e=this;return this.state.loading?o.a.createElement("div",{className:"loader"},"Loading..."):o.a.createElement("div",{className:"row containerForPost mb-5"},0!==this.state.posts.length&&this.state.posts?this.state.posts.map(function(t,a){return o.a.createElement("div",{className:"card col-md-3 postImageCard mr-4 ml-4 col-sm-5 mb-3",key:a},o.a.createElement("img",{alt:"",src:e.getPostImage(t._id),className:"userPostImage",id:"singlePostImage"}),e.returnModal(t),o.a.createElement("div",{className:"postBackdrop"},o.a.createElement("div",{className:"likeCommentOnPost mb-3"},o.a.createElement("i",{className:"fas fa-heart postBackdropIcons mr-2"}),t.likedBy.length,o.a.createElement("i",{className:"fas fa-comment postBackdropIcons ml-3 mr-2"}),t.comments.length),e.hasAutherization()&&o.a.createElement("div",null,o.a.createElement("button",{className:"btn EditPost",onClick:function(){return e.handlePostEdit(t._id)}}," Edit "),o.a.createElement("button",{className:"btn deletePost",onClick:function(){return e.handlePostDelete(t._id)}}," Delete "))))}):o.a.createElement("p",{className:"lead"}," No posts to show "))}},{key:"renderModalFollowers",value:function(){if(!0===this.state.showModalfollowers)return o.a.createElement(Y,{show:this.state.showModalfollowers,modalClosed:this.closeModalFollower},o.a.createElement(X,{followers:this.state.user.followers}))}},{key:"renderModalFollowing",value:function(){if(!0===this.state.showModalfollowing)return o.a.createElement(Y,{show:this.state.showModalfollowing,modalClosed:this.closeModalFollowing},o.a.createElement(H,{following:this.state.user.following}))}},{key:"componentDidMount",value:function(){if(v().user){var e=this.props.match.params.userId;this.init(e)}this.setState({showModalfollowers:!1,showModalfollowing:!1})}},{key:"componentWillReceiveProps",value:function(e){if(v().user){var t=e.match.params.userId;this.init(t)}if(this.state.user.image){var a="".concat("http://localhost:5000","/image/").concat(this.state.user._id);document.getElementById("userImage").style.backgroundImage="url('".concat(a,"')")}this.setState({showModalfollowers:!1,showModalfollowing:!1})}},{key:"render",value:function(){return this.state.redirectToLogin?o.a.createElement(E.a,{to:"/login"}):o.a.createElement("div",{className:"profileDiv"},o.a.createElement("header",{className:"profileHeader",style:{display:"flex"}},!this.state.user.image&&o.a.createElement("div",{className:"noUserImg",style:{width:"150px",height:"150px",marginLeft:"auto"}}),this.state.user.image&&o.a.createElement("div",{className:"noUserImg",id:"userImage",style:{width:"150px",height:"150px",marginLeft:"auto"}}),o.a.createElement("section",{style:{marginLeft:"50px",marginRight:"auto"}},o.a.createElement("div",{className:"section1"},o.a.createElement("h1",{className:"userName"}," ",this.state.user.userName," "),this.hasAutherization()?o.a.createElement(b.b,{to:{pathname:"/settings/".concat(this.state.user._id),state:{user:this.state.user}},className:"editLink"},o.a.createElement("button",{className:"editButton"}," Edit Profile")):o.a.createElement(Z,{followStatus:this.state.following,onButtonClick:this.clickFollowButton})),v().user.bio&&o.a.createElement("p",{style:{fontSize:"20px",fontWeight:"300"}}," ",this.state.user.bio),o.a.createElement("ul",{style:{display:"flex",marginBottom:"20px",listStyle:"none",padding:"0"}},o.a.createElement("li",{style:{fontSize:"16px",marginRight:"40px"}},o.a.createElement("b",null," ",this.state.posts.length),"  Posts"),o.a.createElement("li",{style:{fontSize:"16px",marginRight:"40px",cursor:"pointer"},onClick:this.showFollowersList},o.a.createElement("b",null,"  ",this.state.numFollowers," ")," Followers"),o.a.createElement("li",{style:{fontSize:"16px",marginRight:"40px",cursor:"pointer"},onClick:this.showFollowingList},o.a.createElement("b",null," ",this.state.numFollowing)," Following")),this.renderModalFollowers(),this.renderModalFollowing(),o.a.createElement("h1",{style:{fontWeight:"600",fontSize:"16px"}},"  ",this.state.user.fullName))),o.a.createElement("div",{className:"postsByUser"},(this.hasAutherization()||this.state.following)&&this.displayPostsByUser()))}}]),t}(n.Component),ee=(a(53),function(e,t){if(e.location.pathname===t)return{fontWeight:"600",borderLeft:"2px solid #262626"}}),te=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).init=function(e){var t=v().token;A(e,t).then(function(e){e.error?a.setState({redirectToLogin:!0}):a.setState({user:e})})},a.state={user:"",error:"",message:"",updated:!1,currentModal:"",userImage:""},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a.closeModal=a.closeModal.bind(Object(g.a)(a)),a.goToProfile=a.goToProfile.bind(Object(g.a)(a)),a.deleteUser=a.deleteUser.bind(Object(g.a)(a)),a.handleDeleteClick=a.handleDeleteClick.bind(Object(g.a)(a)),a.uploadPhotoDialog=a.uploadPhotoDialog.bind(Object(g.a)(a)),a.handlePhoto=a.handlePhoto.bind(Object(g.a)(a)),a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(function(e){return{user:Object(L.a)({},e.user,Object(c.a)({},n,a))}})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state.user,n=v().token;a.image=void 0,a.followers=void 0,a.following=void 0,function(e,t){return fetch("".concat("http://localhost:5000","/user/").concat(e._id),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})}(a,n).then(function(e){e.error?t.setState({error:e.error}):function(e,t){if("undefined"==typeof window)return!1;if(localStorage.getItem("token")){var a=JSON.parse(localStorage.getItem("token"));a.user=e,localStorage.setItem("token",JSON.stringify(a))}t()}(e.user,function(){t.setState({message:"Successfully Updated",user:e.user,updated:!0,currentModal:"Submit",redirectToSignup:!1})})})}},{key:"handleDeleteClick",value:function(){this.setState({currentModal:"Delete",updated:!0})}},{key:"deleteUser",value:function(){var e=this,t=v().token;(function(e,t){return fetch("".concat("http://localhost:5000","/user/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})})(this.props.match.params.userId,t).then(function(t){t.error?console.log(t.error):(y(function(){return console.log("user deleted")}),e.setState({redirectToSignup:!0}))})}},{key:"closeModal",value:function(){this.setState({updated:!1,currentModal:""})}},{key:"goToProfile",value:function(){return this.props.history.push("/user/".concat(this.state.user._id))}},{key:"uploadPhotoDialog",value:function(){document.getElementById("photo").click()}},{key:"handlePhoto",value:function(e){var t=this,a=e.target.files[0],n=e.target.name,o=v().token,s=this.props.match.params.userId,l=new FormData;l.append(n,a),function(e,t,a){return fetch("".concat("http://localhost:5000","/image/").concat(e),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a)},body:t}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})}(s,l,o).then(function(e){t.setState({user:e.user});var a="".concat("http://localhost:5000","/image/").concat(t.state.user._id);document.getElementById("userImage").src=a})}},{key:"componentDidMount",value:function(){if(v().user){var e=this.props.match.params.userId;this.init(e)}}},{key:"render",value:function(){var e="".concat("http://localhost:5000","/image/").concat(this.state.user._id);return this.state.redirectToSignup?o.a.createElement(E.a,{to:"/"}):o.a.createElement("div",{className:"settingsContainer"},v().user&&v().user._id===this.state.user._id&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Y,{show:this.state.updated,modalClosed:this.closeModal},"Delete"===this.state.currentModal&&o.a.createElement("div",{className:"modalContent1"},o.a.createElement("div",{className:" text-center"},o.a.createElement("i",{className:"far fa-times-circle",style:{color:"#f15e5e",fontSize:"54px"}})),o.a.createElement("div",{className:"modalText1 text-center mt-3"},o.a.createElement("h4",{style:{color:"#262626"}}," Are You Sure? "),o.a.createElement("p",null,"Do you really want to delete your profile? This process cannot be undone"),o.a.createElement("div",null,o.a.createElement("button",{onClick:this.closeModal,className:"btn ml-3 px-4 cancelButton"},"Cancel"),o.a.createElement("button",{onClick:this.deleteUser,className:"btn ml-3 px-4 deleteButton "},"Delete")))),this.state.message&&"Submit"===this.state.currentModal&&o.a.createElement("div",{className:"modalContent1"},o.a.createElement("div",{className:"modalHeader1 text-center"},o.a.createElement("div",{className:"modalIcon1"},o.a.createElement("i",{className:"fas fa-check",style:{color:"white",fontSize:"54px"}}))),o.a.createElement("div",{className:"modalText1 text-center mt-3"},o.a.createElement("h4",{style:{color:"#262626"}}," ",this.state.message,"! "),o.a.createElement("button",{className:"modalButton btn",onClick:this.goToProfile},o.a.createElement("span",null,"Go To Profile"),o.a.createElement("i",{className:"fas fa-arrow-right ml-2"}))))),o.a.createElement("ul",{className:"side"},o.a.createElement("li",null,o.a.createElement("a",{href:"/settings",className:"sideSettings",style:ee(this.props.history,"/settings/".concat(v().user._id))}," Edit Profile ")),o.a.createElement("li",null,o.a.createElement("a",{href:"/settings",className:"sideSettings"},"Change Password ")),o.a.createElement("li",null,o.a.createElement("a",{href:"/settings",className:"sideSettings"},"Privacy and Security")),o.a.createElement("li",null,o.a.createElement("a",{href:"/settings",className:"sideSettings"},"Email and SMS "))),o.a.createElement("article",{className:"mainContainer"},o.a.createElement("header",{style:{margin:"32px 0 0",flexDirection:"row",display:"flex"}},!this.state.user.image&&o.a.createElement("div",{className:"noUserImg"}),this.state.user.image&&o.a.createElement("img",{alt:"profile",src:e,style:{borderRadius:"50%",width:"50px",height:"50px"},id:"userImage"}),o.a.createElement("div",{style:{marginLeft:"30px"}},o.a.createElement("h1",{className:"userName",style:{fontSize:"20px",fontWeight:"400"}}," ",v().user.userName," "),o.a.createElement("button",{style:{color:"#3897f0",padding:"0",background:"0 0",fontWeight:"600",border:"0",fontSize:"14px"},onClick:this.uploadPhotoDialog},"Change Profile Picture",o.a.createElement("form",{encType:"multipart/form-data",id:"imageUploadForm"},o.a.createElement("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:this.handlePhoto,id:"photo",name:"photo"}))))),o.a.createElement("form",{style:{marginTop:"25px",marginBottom:"16px",width:"100%",marginLeft:"0"},onSubmit:this.handleSubmit},o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("label",{style:{fontWeight:"600",textAlign:"right"}},"  Name"),o.a.createElement("input",{type:"text",className:"editInput",value:this.state.user.fullName,onChange:this.handleChange,name:"fullName"})),o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("label",{style:{fontWeight:"600",textAlign:"right"}},"  Userame"),o.a.createElement("input",{type:"text",className:"editInput",value:this.state.user.userName,style:{marginLeft:"55px"},name:"userName",onChange:this.handleChange})),o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("label",{style:{fontWeight:"600",textAlign:"right"}}," Email"),o.a.createElement("input",{type:"email",className:"editInput",value:this.state.user.email,onChange:this.handleChange,name:"email"})),o.a.createElement("div",{style:{display:"flex"},className:"mb-4"},o.a.createElement("label",{style:{fontWeight:"600",textAlign:"right"}}," Bio"),o.a.createElement("textarea",{className:"editInput",value:this.state.user.bio,"data-emojiable":"true",onChange:this.handleChange,name:"bio"}," ")),o.a.createElement("button",{className:"btn btn-primary",type:"submit"}," Submit "),o.a.createElement("button",{className:"btn btn-danger ml-3",onClick:this.handleDeleteClick,type:"button"}," Delete my account ")))),!v().user&&o.a.createElement(E.a,{to:"/login"}))}}]),t}(n.Component),ae=Object(E.g)(te),ne=(a(54),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={user:"",error:"",caption:"",photo:"",file:null,redirectToProfile:!1},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a.uploadPhotoDialog=a.uploadPhotoDialog.bind(Object(g.a)(a)),a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"uploadPhotoDialog",value:function(){document.getElementById("photo").click()}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n="photo"===a?t.files[0]:t.value;"photo"===a&&(this.setState({file:URL.createObjectURL(t.files[0])}),document.getElementById("submitPostButton").disabled=!1),this.postData.set(a,n),this.setState(Object(c.a)({},a,n))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state.user,n=v().token;(function(e,t,a){return fetch("".concat("http://localhost:5000","/addPost/").concat(e),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:a}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})})(a._id,n,this.postData).then(function(e){e.error?t.setState({error:e.error}):t.setState({redirectToProfile:!0})})}},{key:"componentDidMount",value:function(){this.postData=new FormData,this.setState({user:v().user})}},{key:"render",value:function(){return this.state.redirectToProfile?o.a.createElement(E.a,{to:"/user/".concat(this.state.user._id)}):o.a.createElement("div",{className:"addPostDiv"},o.a.createElement("h4",{className:"newPostText mb-3"}," New Post"),o.a.createElement("hr",{style:{width:"500px",margin:"0 auto"}}),o.a.createElement("form",{encType:"multipart/form-data",onSubmit:this.handleSubmit},o.a.createElement("div",{className:"captionDiv"},o.a.createElement("input",{type:"text",name:"caption",placeholder:"Write a caption..",className:"captionInput",onChange:this.handleChange,autoComplete:"off"})),o.a.createElement("div",{className:"postImageDiv mb-3"},o.a.createElement("button",{className:"chip mt-4",type:"button",onClick:this.uploadPhotoDialog},o.a.createElement("div",{className:"uploadImageIcon"}),"Upload Image",o.a.createElement("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:this.handleChange,id:"photo",name:"photo"})),this.state.file&&o.a.createElement("div",{className:"uploadedImageDiv mt-4"},o.a.createElement("img",{className:"uploadedImage",src:this.state.file,alt:""}))),o.a.createElement("button",{type:"submit",className:"btn submitPostButton",disabled:!0,id:"submitPostButton"}," Add Post ")))}}]),t}(n.Component)),oe=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(E.d,null,o.a.createElement(E.b,{exact:!0,path:"/",component:U}),o.a.createElement(E.b,{exact:!0,path:"/login",component:T}),o.a.createElement(E.b,{exact:!0,path:"/dashboard",component:W}),o.a.createElement(E.b,{exact:!0,path:"/user/:userId",component:$}),o.a.createElement(E.b,{exact:!0,path:"/settings/:userId",component:ae}),o.a.createElement(E.b,{exact:!0,path:"/post/add",component:ne})))};var se=Object(E.g)(function(e){return o.a.createElement(S,{currRoute:e.location.pathname},o.a.createElement(oe,null))});l.a.render(o.a.createElement(b.a,null," ",o.a.createElement(se,null)),document.getElementById("root"))}]),[[38,1,2]]]);
//# sourceMappingURL=main.7aa9c1cc.chunk.js.map